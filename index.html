<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MMMDB</title>
  <link href="./styles/style.css" rel="stylesheet">
  <!-- Add a favicon below -->
  <link rel="icon" href="favicon.png" type="image/x-icon" />
  <script src="movies.js"></script>
  <script>

    // get the length of allMovies
    const allMoviesLength = allMovies.length;

    // sort the movies by title
    allMovies.sort(function (a, b) {
      let titleA = a.title.toUpperCase(); // ignore upper and lowercase
      let titleB = b.title.toUpperCase(); // ignore upper and lowercase
      if (titleA < titleB) {
        return -1;
      }
      if (titleA > titleB) {
        return 1;
      }

      // titles must be equal
      return 0;
    });

    let html = '';

    function getMovies() {
      // loop through the movies and print the title
      for (let i = 0; i < allMoviesLength; i++) {
        //console.log(allMovies[i].title);
        // create a new div element with a class of movie-card
        console.log("This is running");
        // then add the movie title inside the movie-card with a h2
        html += `<a target="_blank" href="${allMovies[i].imdb_url}" class="movie-card text-light_colour flex border xl:border-4 border-secondary rounded-md pb-4 group hover:bg-secondary ease-in-out duration-300 cursor-pointer flex-col items-center"><img class="lg:opacity-50 group-hover:lg:opacity-100 group-hover:ease-in-out duration-1000 scale-90 group-hover:scale-100 group-hover:rounded-t-md" src="images/${allMovies[i].image}" loading="lazy" /><h3 class="pt-8 group-hover:pt-2 ease-in-out duration-300 xl:opacity-50 group-hover:xl:opacity-100 w-[90%] text-center">${allMovies[i].title}</h3></a>`;
      }

      document.querySelector('.movies-grid').innerHTML = html;
    }

    window.onload = getMovies;
  </script>
</head>

<body class="font-brand flex items-center flex-col bg-primary">

  <div class="container-full_width w-full py-4 sticky top-0 bg-primary z-40 border-2 lg:border-b-4 border-secondary">
    <h1 class="text-light_colour text-center text-3xl">MMMDB</h1>

    <script>
      document.write(`<h2 class="text-yellow text-center font-normal text-base">We have watched ${allMoviesLength} movies</h2>`);
    </script>


  </div>
  <div class="container">
    <div class="movies-grid pt-4 xl:pt-8 px-2 xl:px-0 grid gap-4 xl:gap-8 mt-4 min-h-[200px] w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-5  xl:grid-cols-6">

    </div>
  </div>

</body>

</html>