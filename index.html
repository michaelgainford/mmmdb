<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MMMDB</title>
  <link href="./styles/style.css" rel="stylesheet">
  <link rel="icon" href="favicon.png" type="image/x-icon" />
  <script src="movies.js"></script>
  <script>
    // get the length of allMovies
    const allMoviesLength = allMovies.length;

    // sort the movies by title
    allMovies.sort(function (a, b) {
      let titleA = a.title.toUpperCase();
      let titleB = b.title.toUpperCase();
      if (titleA < titleB) {
        return -1;
      }
      if (titleA > titleB) {
        return 1;
      }
      return 0;
    });

    let html = '';

    function getMovies() {
      for (let i = 0; i < allMoviesLength; i++) {
        console.log("This is running");
        html += `<a target="_blank" href="${allMovies[i].imdb_url}" class="flex flex-col items-center pb-4 duration-300 ease-in-out border rounded-md cursor-pointer movie-card text-light_colour xl:border-4 border-secondary group hover:bg-secondary"><img class="duration-1000 scale-90 lg:opacity-50 group-hover:lg:opacity-100 group-hover:ease-in-out group-hover:scale-100 group-hover:rounded-t-md" src="images/${allMovies[i].image}" loading="lazy" /><h3 class="pt-8 group-hover:pt-2 ease-in-out duration-300 xl:opacity-50 group-hover:xl:opacity-100 w-[90%] text-center">${allMovies[i].title}</h3></a>`;
      }

      document.querySelector('.movies-grid').innerHTML = html;
    }

    window.onload = getMovies;
  </script>
</head>

<body class="flex flex-col items-center font-brand bg-primary">
  <div class="sticky top-0 z-40 w-full py-4 border-2 container-full_width bg-primary lg:border-b-4 border-secondary">
    <h1 class="text-3xl text-center text-light_colour">MMMDB</h1>
    <script>
      document.write(`<h2 class="text-base font-normal text-center text-yellow">We have watched ${allMoviesLength} movies</h2>`);
    </script>
  </div>
  <div class="container">
    <div
      class="movies-grid pt-4 xl:pt-8 px-2 xl:px-0 grid gap-4 xl:gap-8 mt-4 min-h-[200px] w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-5  xl:grid-cols-6">
    </div>
  </div>
</body>

</html>